/* ========================================== */
/* TOPOGRAPHIC LUXURY SYSTEM                 */
/* Quiet Sophistication Through Texture      */
/* ========================================== */

/* ========================================== */
/* ROOT VARIABLES                           */
/* ========================================== */
:root {
  --topographic-opacity: 0.12; /* Increased from 0.03 for visibility */
  --topographic-color: rgba(255, 102, 99, var(--topographic-opacity));
  --topographic-blur: 0px;
  --topographic-scale: 1;
  --topographic-parallax: 0.05; /* 5% maximum parallax */
}

/* ========================================== */
/* BASE TOPOGRAPHIC SYSTEM                  */
/* ========================================== */

/* Foundation Layer - Pure Vanilla */
.topographic-luxury {
  position: relative;
  background: #FFFBF7;
  overflow: hidden;
  isolation: isolate;
}

/* Enhanced Paper Texture for Visibility */
.topographic-luxury::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.08; /* Increased from 0.02 for visibility */
  background: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 1px,
      rgba(255, 102, 99, 0.03) 1px,
      rgba(255, 102, 99, 0.03) 2px
    );
  background-size: 4px 4px;
  pointer-events: none;
  z-index: 1;
}

/* Topographic Pattern Layer - CSS Gradients for Reliability */
.topographic-luxury::after {
  content: '';
  position: absolute;
  inset: 0;
  background-repeat: repeat;
  background-size: 50px 50px;
  background-position: center;
  opacity: var(--topographic-opacity) !important; /* Force visible */
  pointer-events: none;
  z-index: 2;
  will-change: transform;
  transform: translateZ(0);
  mix-blend-mode: multiply;
}

/* Force Visibility - No fade-in for testing */
.topographic-luxury.in-view::after {
  opacity: var(--topographic-opacity) !important;
}

/* Ensure all sections are visible immediately */
.topographic-luxury::after {
  opacity: var(--topographic-opacity) !important;
}

/* ========================================== */
/* SECTION-SPECIFIC PATTERNS                */
/* ========================================== */

/* Hero Section - The Peak */
[data-topographic="hero"] {
  --topographic-opacity: 0.15; /* Increased for visibility */
}

[data-topographic="hero"]::after {
  background: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 39px,
      rgba(255, 102, 99, 0.12) 40px,
      rgba(255, 102, 99, 0.12) 41px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 39px,
      rgba(255, 102, 99, 0.1) 40px,
      rgba(255, 102, 99, 0.1) 41px
    ),
    radial-gradient(
      circle at 50% 30%,
      transparent 30%,
      rgba(255, 102, 99, 0.03) 60%
    );
  background-size: 40px 40px, 40px 40px, 100% 100%;
  background-position: center;
}

/* About Section - The Journey */
[data-topographic="about"] {
  --topographic-opacity: 0.1; /* Increased for visibility */
}

[data-topographic="about"]::after {
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 49px,
      rgba(255, 102, 99, 0.08) 50px,
      rgba(255, 102, 99, 0.08) 51px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 79px,
      rgba(255, 102, 99, 0.05) 80px,
      rgba(255, 102, 99, 0.05) 81px
    );
  background-size: 100% 50px, 80px 100%;
  background-position: 0% center;
  animation: subtle-drift 60s linear infinite;
}

@keyframes subtle-drift {
  0% { transform: translateX(0); }
  100% { transform: translateX(10px); }
}

/* Projects Section - The Terrain */
[data-topographic="projects"] {
  --topographic-opacity: 0.12; /* Increased for visibility */
}

[data-topographic="projects"]::after {
  background: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 29px,
      rgba(255, 102, 99, 0.1) 30px,
      rgba(255, 102, 99, 0.1) 31px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 29px,
      rgba(255, 102, 99, 0.08) 30px,
      rgba(255, 102, 99, 0.08) 31px
    ),
    repeating-radial-gradient(
      circle at 30% 70%,
      transparent,
      transparent 59px,
      rgba(255, 102, 99, 0.04) 60px,
      rgba(255, 102, 99, 0.04) 61px
    );
  background-size: 42px 42px, 42px 42px, 120px 120px;
}

/* Experience Section - The Timeline */
[data-topographic="experience"] {
  --topographic-opacity: 0.08; /* Increased for visibility */
}

[data-topographic="experience"]::after {
  background: 
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 99px,
      rgba(255, 102, 99, 0.08) 100px,
      rgba(255, 102, 99, 0.08) 101px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 39px,
      rgba(255, 102, 99, 0.05) 40px,
      rgba(255, 102, 99, 0.05) 41px
    );
  background-size: 100px 100%, 100% 40px;
}

/* Services Section - The Depth */
[data-topographic="services"] {
  --topographic-opacity: 0.1; /* Increased for visibility */
}

[data-topographic="services"]::after {
  background: 
    repeating-radial-gradient(
      circle at 50% 50%,
      transparent,
      transparent 49px,
      rgba(255, 102, 99, 0.08) 50px,
      rgba(255, 102, 99, 0.08) 51px
    ),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 59px,
      rgba(255, 102, 99, 0.05) 60px,
      rgba(255, 102, 99, 0.05) 61px
    );
  background-size: 100px 100px, 100% 60px;
}

/* ========================================== */
/* ACCENT LAYER                             */
/* ========================================== */

/* Enhanced Radial Accent for Visibility */
.topographic-accent {
  position: absolute;
  top: 30%;
  right: -5%;
  width: 40vw;
  height: 40vw;
  background: radial-gradient(
    circle at center,
    rgba(255, 102, 99, 0.08) 0%,  /* Increased from 0.02 */
    rgba(255, 102, 99, 0.05) 30%, /* Increased from 0.01 */
    transparent 60%
  );
  filter: blur(60px); /* Reduced blur for more definition */
  pointer-events: none;
  z-index: 3;
  opacity: 1 !important; /* Force visible */
  transition: none; /* Remove transition for immediate visibility */
}

.topographic-luxury.in-view .topographic-accent {
  opacity: 1 !important;
}

/* ========================================== */
/* MICRO-PARALLAX SYSTEM                    */
/* ========================================== */

.topographic-parallax {
  transform: translateY(0);
  transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: transform;
}

/* Applied via JavaScript based on scroll */
.topographic-parallax[data-parallax] {
  transform: translateY(calc(var(--scroll-y, 0) * var(--topographic-parallax)));
}

/* ========================================== */
/* RESPONSIVE ADJUSTMENTS                   */
/* ========================================== */

/* Mobile - Simplified or Hidden */
@media (max-width: 768px) {
  :root {
    --topographic-opacity: 0.02; /* Even more subtle on mobile */
  }
  
  .topographic-luxury::after {
    background-size: 200% 200%; /* Larger scale for mobile */
  }
  
  [data-topographic="about"]::after {
    animation: none; /* No drift on mobile */
  }
  
  .topographic-accent {
    display: none; /* Remove accent on mobile for performance */
  }
  
  .topographic-parallax[data-parallax] {
    transform: none; /* No parallax on mobile */
  }
}

/* Tablet - Reduced Complexity */
@media (min-width: 769px) and (max-width: 1024px) {
  :root {
    --topographic-opacity: 0.025;
  }
  
  .topographic-luxury::after {
    background-size: 150% 150%;
  }
  
  .topographic-accent {
    width: 30vw;
    height: 30vw;
    filter: blur(60px);
  }
}

/* Desktop - Full Experience */
@media (min-width: 1025px) {
  .topographic-luxury::after {
    background-attachment: fixed; /* Subtle fixed attachment on desktop */
  }
}

/* Ultra-wide - Extended Patterns */
@media (min-width: 1600px) {
  .topographic-luxury::after {
    background-size: 80% 80%;
  }
  
  .topographic-accent {
    width: 30vw;
    height: 30vw;
  }
}

/* ========================================== */
/* ACCESSIBILITY                            */
/* ========================================== */

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .topographic-luxury::after {
    transition: none !important;
    opacity: var(--topographic-opacity) !important;
  }
  
  [data-topographic="about"]::after {
    animation: none !important;
  }
  
  .topographic-parallax[data-parallax] {
    transform: none !important;
  }
  
  .topographic-accent {
    transition: none !important;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .topographic-luxury::before,
  .topographic-luxury::after,
  .topographic-accent {
    display: none !important;
  }
}

/* Print Mode */
@media print {
  .topographic-luxury {
    background: white !important;
  }
  
  .topographic-luxury::before,
  .topographic-luxury::after,
  .topographic-accent {
    display: none !important;
  }
}

/* ========================================== */
/* LOADING STATES                           */
/* ========================================== */

.topographic-loading {
  position: relative;
}

.topographic-loading::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 102, 99, 0.02) 50%,
    transparent 100%
  );
  animation: topographic-shimmer 2s ease-in-out infinite;
}

@keyframes topographic-shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}